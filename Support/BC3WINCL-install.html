<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>






  
  
  
  
  
  
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">






  
  
  
  
  
  
  <title>BC3WINCL installation, distribution Feb. 13, 2008</title>
</head>


<body>






<br>






<h3>BC3WINCL fresh installation for Windows and CLISP-2.42, version February 15,&nbsp;2008</h3>






<ol style="text-align: left;">






  <li>You have downloaded (or will download) <span style="color: rgb(0, 153, 0);">"BC3WINCL"</span> software distribution of February 15, 2008, from <a href="http://www.acoustics.hut.fi/software/BlockCompiler/BC3WINCL130208.zip">http://www.acoustics.hut.fi/software/BlockCompiler/BC3WINCL150208.zip</a>
to Windows (XP tested) and then expand it. Move the whole directory&nbsp;<span style="color: rgb(0, 153, 0);"></span>to your favorite directory path, for example
to &lsquo;Program Files&rsquo;.&nbsp;</li>
  <li>In order to export BC patches to&nbsp;<span style="color: rgb(0, 153, 0);">Matlab/Octave</span> .m-files and run the code
examples, copy the directory <span style="color: rgb(0, 153, 0);">&ldquo;bc_functions&rdquo;</span> to a proper
place (default in file <span style="color: rgb(0, 153, 0);">"BC-SETTINGS.lisp"</span> is <span style="color: rgb(0, 153, 0);">"C:/Program
Files/MATLAB"</span>) with Matlab path set to access it, see BC3WINCL testing (1).</li>
  <li>As you probably want to use C compilation and real-time operation of BC
models (in addition to only creating models for exporting to <span style="color: rgb(0, 153, 0);">Matlab/Octave</span> or <span style="color: rgb(0, 153, 0);">Pd</span>), then you need to install <span style="color: rgb(0, 153, 0);">MinGW</span> (Minimalist GNU for Windows) or
    <span style="color: rgb(0, 153, 0);">Cygwin</span> in order to have access to a <span style="color: rgb(0, 153, 0);">GCC</span> compiler. Here we guide you to
install <span style="color: rgb(0, 153, 0);">MinGW</span>: Click the &lsquo;<span style="color: rgb(0, 153, 0);">MinGW-5.1.3</span>&rsquo; (or later) installer icon
(included in <span style="color: rgb(0, 153, 0);">"Support/MinGW-setup"</span>) when you are connected to Internet, and follow
the instructions to make a base tools installation.&nbsp;If problems appear in
downloading from the default site, try others. It is assumed that you install <span style="color: rgb(0, 153, 0);">MinGW</span> to <span style="color: rgb(0, 153, 0);">"C:\MinGW"</span>. If you decide to install in another destination, then you should set the path to the variable <span style="color: rgb(0, 153, 0);">*MinGWgcc*</span> in <span style="color: rgb(0, 153, 0);">"BC3WINCL" </span>file&nbsp;<span style="color: rgb(0, 153, 0);">"BC-SETTINGS.lisp"</span>.&nbsp;</li>






  <li>Clicking the icon <span style="color: rgb(0, 153, 0);">"clisp"</span> inside the directory <span style="color: rgb(0, 153, 0);">&lsquo;clisp-2.42&rsquo;</span>
inside&nbsp;<span style="color: rgb(0, 153, 0);">&lsquo;BC3WINCL&rsquo;</span><span style="color: rgb(0, 153, 0);"> </span>starts the CLISP (only the Lisp). In the opened Lisp listener window, write: <span style="color: rgb(255, 0, 0);">(load
&ldquo;BC-COMPILE.lisp&rdquo;)</span> and Carriage Return (CR). This should compile the
BlockCompiler software. There should be no errors; don&rsquo;t care
about possible warnings.&nbsp;</li>






  <li>Exit CLISP by writing (exit) and CR or just by closing the window.&nbsp;</li>






  <li>Start the CLISP again and write: <span style="color: rgb(255, 0, 0);">(load
&ldquo;BC-LOAD.lisp&rdquo;)</span>
and CR. This should load the BC3 software
without errors and make it ready for use. (If you don't want sound-I/O
for realtime sound, or if you don't have such sound support, then open file <span style="color: rgb(255, 0, 0);">"BC-SETTINGS.lisp</span>" and comment out make-audio by replacing the row by <span style="color: rgb(255, 0, 0);">;;; (bc::make-audio)</span>.) After loading, BC3 is ready for operation, but you may quit now and:</li>






  <li>Make a shortcut icon on desktop for starting BC
by a mouse-click. First make a shortcut of CLISP, open it by Right-click, and
append the following text to the end of Target field (after the
application path that exist there
already):<span style="color: rgb(255, 0, 0);"></span>&nbsp;<span style="color: rgb(255, 0, 0);"> -q </span><span style="color: rgb(255, 0, 0);">-i &ldquo;BC-load.lisp&rdquo;</span>. Finally, you may name the icon for example as <span style="color: rgb(0, 153, 0);">&lsquo;BC3&rsquo;</span>. For preparing EMAC editor for interacting with BC, see instructions below.</li>
  <li>In order to write and evaluate Lisp code for BC, the Lisp package
:BC should be used. Normally this means that a source file should start by
line <span style="color: rgb(255, 0, 0);">(in-package :BC)</span>. It is recommended to write code using an editor
(e.g., <span style="color: rgb(0, 153, 0);">EMACS</span>), although it is possible to execute simple forms in the
Lisp listener. In the listener, executing form <span style="color: rgb(255, 0, 0);">(in-package :BC)</span> makes the Listener to use
BlockCompiler package so that the BC-forms are directly accessible.
Another way is to stay in the default package and use the package prefix bc:: for all BC-symbols, such as
(bc::.add) to create an adder block.</li>
</ol>
<h3>BC3WINCL directory management and software update</h3>

<ol>

  <li>If you reinstall or update the <span style="color: rgb(0, 153, 0);">BC3WINCL</span> software or parts of it, the most important thing is not to overwrite your user files or user settings.</li>

  <li>The top-level <span style="color: rgb(0, 153, 0);">BC3WINCL</span> directory is modularized so that CLISP is an independent directory that must include also the files <span style="color: rgb(0, 153, 0);">&ldquo;BC-COMPILE.lisp&rdquo;</span> and <span style="color: rgb(0, 153, 0);">&ldquo;BC-LOAD.lisp&rdquo;</span>. If you replace CLISP directory for example by a newer CLISP version, please copy these two files from directory <span style="color: rgb(0, 153, 0);">&ldquo;Support&rdquo;</span> to CLISP directory before compilation and loading. You may need to recompile BC3 if you chance CLISP version.</li>

  <li>Subdirectory <span style="color: rgb(0, 153, 0);">BC3</span> inside top-directory <span style="color: rgb(0, 153, 0);">BC3WINCL</span> includes the source files of BC3 an compiled files after compilation, as well as two .dll-files for C and audio support.</li>

  <li>Directory&nbsp;<span style="color: rgb(0, 153, 0);">&ldquo;Support&rdquo;</span>
includes documentation and installation instructions (this file),
original versions of compiling and loading files, MATLAB interfacing
support, and MinGW support.</li>

  <li>Demos are in directories <span style="color: rgb(0, 153, 0);">"MDEMOS"</span> (for MATLAB) and <span style="color: rgb(0, 153, 0);">"RTDEMOS"</span> (realtime demos).</li>

  <li>File&nbsp;<span style="color: rgb(0, 153, 0);">BC-SETTINGS.lisp </span>includes user-specific settings that are loaded after the BC3 kernel files have been loaded.</li>

  <li>You may place your own BC3 files as you wish to manage them from
Lisp, but the easiest way is to make a directory inside the top-level <span style="color: rgb(0, 153, 0);">BC3WINCL</span> directory for them. Be careful not to delete them when you update BC3 or parts of it.</li>

</ol>

<h3>BC3WINCL testing</h3>





<ol>





  <li>Start BC3 after installation, execute <span style="color: rgb(255, 0, 0);">(in-package :BC)</span>&nbsp;and <span style="color: rgb(255, 0, 0);">(load &ldquo;mdemos/dsp/sinosc&rdquo;)</span> in the Lisp listener. This should create a sinewave oscillator (as the value of symbol sinosc) as well as export the model
as an m-file to Matlab (or Octave) to directory &lsquo;C:/Program
Files/MATLAB&rsquo;. (This path is defined in file
    <span style="color: rgb(0, 153, 0);">&lsquo;BC-SETTINGS.lisp&rsquo;</span> and you may specify it according to your
directory configuration.) If you have Matlab (Octave) and you set a
path to the directory mentioned, then you can simply evaluate <span style="color: rgb(255, 0, 0);">bc_resp</span> in Matlab (Octave) to see how the sine oscillator makes a graphical presentation of the waveform.</li>





  <li>To test a realtime patch and audio-I/O, go to the sine-wave
synthesis case in file "rtdemos/dsp/sine-tone" as documented in the
Report.pdf <span style="font-family: times new roman,times,serif; font-style: italic;"> "</span><a href="http://www.acoustics.hut.fi/software/BlockCompiler/Report130208.pdf"><span style="font-family: times new roman,times,serif; font-style: italic; font-weight: bold;">Discrete-Time
Physics-Based Modeling &ndash; A Block-Based Multi-Paradigm Approach</span></a><span style="font-family: times new roman,times,serif;"><span style="font-style: italic;"><a href="Report.pdf"><span style="font-weight: bold;"> with
Applications to Audio and Acoustics</span></a>",</span> in chapter "Introduction to BlockCompiler". (Now it is easier
to operate with EMAC and SLIME, but you may also execute the commands
in the Lisp listener after switching to package :BC, which is not that
convenient.)</span></li>





  <li><span style="font-family: times new roman,times,serif;">It is recommendable to check all the examples in chapter </span><span style="font-family: times new roman,times,serif;">"Introduction to BlockCompiler" to get familiar with BC3 modeling.</span></li>





  <li><span style="font-family: times new roman,times,serif;">NOTICE:
This is a quite unfinished version of BC3, and it has known and unknown
bugs. Feedback of your experience and comments is welcome.<br>





    </span></li>





</ol>





<h3>EMACS/SLIME/CLISP environment</h3>





To be codumented here ...<br>

<br>

<br>

<a href="http://www.acoustics.hut.fi/software/BlockCompiler/">Back to BlockCompiler home page</a><br>






</body>
</html>
